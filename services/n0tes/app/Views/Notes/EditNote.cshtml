@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, App
@using App.Models
@using Microsoft.AspNetCore.Mvc.ModelBinding
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model App.Models.NoteViewModel

@section Navbar
{
    <div class="navbar-collapse collapse">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <span>@User.Identity!.Name | <a href="@Url.Action("Logout", "Account")">Logout</a></span>
            </li>
        </ul>
    </div>
}

<div class="col-md-8 offset-md-2 mt-3 text-center">
    <form autocomplete="off" asp-route="EditNote" asp-antiforgery="false">
        <div class="card border-0">
            <input type="text" class="form-control" placeholder="Title" asp-for="Title"
                   has-errors="@(ViewData.ModelState.GetValidationState(nameof(NoteViewModel.Title)) == ModelValidationState.Invalid)">
            <span asp-validation-for="Title" class="invalid-feedback"></span>
            <textarea class="form-control mt-3" placeholder="Content" asp-for="Content" rows="10"></textarea>
        </div>
        <p class="mt-3">
            <a class="btn btn-outline-danger" href="@Url.Action("Index")">🗙 Cancel</a>
            <button type="submit" class="btn btn-outline-success">🖫 Save</button>
        </p>
    </form>
</div>